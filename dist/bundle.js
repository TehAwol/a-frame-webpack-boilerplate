(()=>{var t,e={761:()=>{AFRAME.registerComponent("collision-ball",{multiple:!0,schema:{target:{type:"selector",default:"#sword"},audio:{type:"selector",default:"#ball-hit"},emitEvent:{type:"string",default:"play-mode-easy"},emitTarget:{type:"selector",default:"#scene"}},init:function(){this._onEvent=this._onEvent.bind(this),this.el.addEventListener("collidestart",this._onEvent)},remove:function(){this.el.removeEventListener(this.data.event,this._onEvent)},_onEvent:function(t){let e=t.detail.targetEl;e==this.data.target&&(this.data.emitTarget.emit(this.data.emitEvent,null,!1),this.el.emit("startanim",null,!1),e.emit("triggerHaptic",null,!1),this.data.audio&&this.data.audio.play(),setTimeout((()=>{this.el.remove()}),500))}})},827:()=>{AFRAME.registerComponent("emit-when-near",{schema:{target:{type:"selector",default:"#camera-rig"},distance:{type:"number",default:1},event:{type:"string",default:"click"},eventFar:{type:"string",default:"unclick"},throttle:{type:"number",default:100}},init:function(){this.tick=AFRAME.utils.throttleTick(this.checkDist,this.data.throttle,this),this.emiting=!1},checkDist:function(){let t=new THREE.Vector3(0,0,0),e=new THREE.Vector3(0,0,0);if(this.el.object3D.getWorldPosition(t),this.data.target.object3D.getWorldPosition(e),t.distanceTo(e)<=this.data.distance){if(this.emiting)return;this.emiting=!0,this.el.emit(this.data.event,{collidingEntity:this.data.target},!1),this.data.target.emit(this.data.event,{collidingEntity:this.el},!1)}else{if(!this.emiting)return;this.el.emit(this.data.eventFar,{collidingEntity:this.data.target},!1),this.data.target.emit(this.data.eventFar,{collidingEntity:this.el},!1),this.emiting=!1}}})},229:()=>{AFRAME.registerComponent("entity-generator",{multiple:!0,schema:{mixin:{default:""},num:{default:10},event:{type:"string",default:"play-mode-easy"},frequency:{type:"number",default:1}},init:function(){this._onEvent=this._onEvent.bind(this),this.el.addEventListener(this.data.event,this._onEvent)},remove:function(){this.el.removeEventListener(this.data.event,this._onEvent)},_onEvent:function(t){let e=document.getElementsByClassName("menu-item"),n=document.getElementById("ball-spawn");for(;e[0];)e[0].parentNode.removeChild(e[0]);let i=this.data;for(let t=0;t<i.num;t++)setTimeout((()=>{let t=document.createElement("a-entity");t.setAttribute("mixin",this.data.mixin),console.log(t.object3D.scale),this.el.appendChild(t),n.play(),setTimeout((()=>{t.dispatchEvent(new Event("throw-ball")),n.play()}),1e3)}),2e3*t*this.data.frequency)}})},91:()=>{AFRAME.registerComponent("environment-tweak",{multiple:!0,init:function(){document.querySelector("#env").setAttribute("environment","preset: poison; active: true; fog: 0.01; dressing: hexagons; dressingScale: 2.62; groundYScale: 0;")}})},120:()=>{AFRAME.registerComponent("on-event-set",{multiple:!0,schema:{event:{type:"string",default:"click"},attribute:{type:"string"},value:{type:"string"}},init:function(){this._onEvent=this._onEvent.bind(this),this.el.addEventListener(this.data.event,this._onEvent)},remove:function(){this.el.removeEventListener(this.data.event,this._onEvent)},_onEvent:function(t){AFRAME.utils.entity.setComponentProperty(this.el,this.data.attribute,this.data.value)}})},235:()=>{AFRAME.registerComponent("random-position",{schema:{min:{default:{x:-10,y:-10,z:-10},type:"vec3"},max:{default:{x:10,y:10,z:10},type:"vec3"}},update:function(){var t=this.data,e=t.max,n=t.min;this.el.setAttribute("position",{x:Math.random()*(e.x-n.x)+n.x,y:Math.random()*(e.y-n.y)+n.y,z:Math.random()*(e.z-n.z)+n.z})}}),AFRAME.registerComponent("random-spherical-position",{schema:{radius:{default:10},startX:{default:0},lengthX:{default:360},startY:{default:0},lengthY:{default:360}},update:function(){var t=this.data,e=THREE.Math.degToRad(Math.random()*t.lengthX+t.startX),n=THREE.Math.degToRad(Math.random()*t.lengthY+t.startY);this.el.setAttribute("position",{x:t.radius*Math.cos(e)*Math.sin(n),y:t.radius*Math.sin(e)*Math.sin(n),z:t.radius*Math.cos(n)})}}),AFRAME.registerComponent("random-rotation",{schema:{min:{default:{x:0,y:0,z:0},type:"vec3"},max:{default:{x:360,y:360,z:360},type:"vec3"}},update:function(){var t=this.data,e=t.max,n=t.min;this.el.setAttribute("rotation",{x:Math.random()*e.x+n.x,y:Math.random()*e.y+n.y,z:Math.random()*e.z+n.z})}})},711:()=>{AFRAME.registerComponent("throw-ball",{multiple:!0,schema:{target:{type:"selector",default:"#camera-rig"}},init:function(){this.vector=new THREE.Vector3,this.vector2=new THREE.Vector3,this._onEvent=this._onEvent.bind(this),this.el.addEventListener("throw-ball",this._onEvent)},remove:function(){this.el.removeEventListener("throw-ball",this._onEvent)},_onEvent:function(t){this.el.sceneEl.camera.getWorldPosition(this.vector),this.el.object3D.getWorldPosition(this.vector2),this.vector2.sub(this.vector),this.el.object3D.lookAt(this.vector),this.vector2.negate();let e=15*Math.random()+25;const n=new Ammo.btVector3(this.vector2.x*e,this.vector2.y,this.vector2.z*e),i=new Ammo.btVector3(this.el.object3D.position);this.el.body.applyForce(n,i),Ammo.destroy(n),Ammo.destroy(i)}})},66:(t,e,n)=>{var i={"./collision-ball.js":761,"./emit-when-near.js":827,"./entity-generator.js":229,"./environment-tweak.js":91,"./on-event-set.js":120,"./random-position.js":235,"./throw-ball.js":711,"components/collision-ball.js":761,"components/emit-when-near.js":827,"components/entity-generator.js":229,"components/environment-tweak.js":91,"components/on-event-set.js":120,"components/random-position.js":235,"components/throw-ball.js":711};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id=66}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,i),a.exports}i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(t=i(66)).keys().forEach(t)})();